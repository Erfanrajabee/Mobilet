const icon="/favicon.png";self.addEventListener("push",(i=>{self.Notification&&"granted"===self.Notification.permission&&self.registration.showNotification&&i.waitUntil(fetch(icon).then((()=>{const t=i.data?.json()??{},n=t?.notification?.title,o=t?.notification?.body;return self.registration.showNotification(n,{body:o,tag:t?.notification?.tag,icon,vibrate:[300,100,400],image:t?.notification?.image})})))})),self.addEventListener("notificationclick",(i=>{i.notification.close(),i.waitUntil(clients.matchAll({type:"window"}).then((i=>{for(const t of i)if("focus"in t)return t.focus();if(clients.openWindow)return clients.openWindow("/")})))}));